{% if theme == 'light' %} 
  {% extends "layout.html" %}
{% else %}
  {% extends "layout-dark.html" %}
{% endif %}


{% block title%}Ajustes{% endblock %}


{% block header %}Ajustes y configuraci√≥n{% endblock %}


{% block section %}

<form action="/ajustes" method="post">
    <div class="form-check form-switch">
      <label class="form-check-label" for="flexSwitchCheckDefault">Activate dark-mode</label>
      <input class="form-check-input" type="checkbox" role="switch" id="btnSwitch" {% if theme == 'dark' %} checked {% endif %}>
      <input type="hidden" name="color_mode" role="switch" id="color_mode">
      <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
    </div>
    <button type="submit" class="btn btn-primary p-2 mt-2">Guardar</button>
</form>

<script>
  document.getElementById('btnSwitch').addEventListener('click', () => {
    const currentTheme = document.documentElement.getAttribute('data-bs-theme');
    const colorModeInput = document.getElementById('color_mode');

    // Update data-bs-theme and color_mode value based on current theme
    if (currentTheme === 'dark') {
      document.documentElement.setAttribute('data-bs-theme', 'light');
      colorModeInput.value = 'light';
    } else {
      document.documentElement.setAttribute('data-bs-theme', 'dark');
      colorModeInput.value = 'dark';
    }
  });
</script>
{% endblock %}
